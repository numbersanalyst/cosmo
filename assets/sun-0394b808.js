import{T as x,S,P as b,W as g,M as d,a as c,b as m,c as f,B as k}from"./three.module-204235a8.js";import{O as C,c as y}from"./createSphere-3427f8cf.js";import{v,f as L,a as R,b as E}from"./atmosphereFragment-20f348ad.js";import{s as P}from"./8k_stars_milky_way-3b65bd0d.js";const W=""+new URL("../textures/8k_sun.jpg",import.meta.url).href,i=new x,u={sun:i.load(W),stars:i.load(P)};let o,t,e,n;o=new S;t=new b(20,window.innerWidth/window.innerHeight,1,1e3);t.position.set(0,0,50);n=new g({antialias:!0});n.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(n.domElement);e=new C(t,n.domElement);e.enableDamping=!0;e.enablePan=!1;e.minDistance=10;e.maxDistance=200;const z=new d(new c(5,50,50),new m({vertexShader:v,fragmentShader:L,uniforms:{globeTexture:{value:u.sun}}})),l=new d(new c(5,50,50),new m({vertexShader:R,fragmentShader:E,blending:f,side:k,transparent:!0}));l.scale.set(1.4,1.4,1.4);const w=y(100,50,50,u.stars,!1,!0,"basic");w.rotation.x=.5;o.add(z,l,w);const h=()=>{e.update(),n.render(o,t),requestAnimationFrame(h)};h();const D=()=>{const{innerWidth:a,innerHeight:s}=window;n.setSize(a,s),t.aspect=a/s,t.updateProjectionMatrix()};window.addEventListener("resize",D);const r=document.querySelector(".rotate-btn"),T=r.textContent,B="Wyłącz obracanie",p=()=>{r.addEventListener("click",()=>{e.autoRotate=!0,r.textContent=B,M()},{once:!0})},M=()=>{r.addEventListener("click",()=>{e.autoRotate=!1,r.textContent=T,p()},{once:!0})};p();document.body.onload=()=>{document.querySelector(".date").textContent=new Date().toDateString()};document.addEventListener("keydown",a=>{(a.isComposing||a.keyCode===27)&&history.back()});
