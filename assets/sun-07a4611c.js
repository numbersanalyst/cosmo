import{T as p,C as g,b as h,P as y,W as S,a as c,S as d,d as l,e as b,B as C}from"./three.module-c996bb13.js";import{O as f,c as k}from"./createSphere-e425b8c2.js";import{s as M}from"./8k_stars_milky_way-3b65bd0d.js";const N="varying vec2 vertexUV;varying vec3 vertexNormal;void main(){vertexUV=uv;vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",z="uniform sampler2D globeTexture;varying vec2 vertexUV;varying vec3 vertexNormal;void main(){float intensity=1.05-dot(vertexNormal,vec3(0.0,0.0,1.0));vec3 atmosphere=vec3(0.9,0.6,0.0)*pow(intensity,1.5);gl_FragColor=vec4(atmosphere+texture2D(globeTexture,vertexUV).xyz,1.0);}",L="varying vec3 vertexNormal;void main(){vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",P="varying vec3 vertexNormal;void main(){float intensity=pow(0.4-dot(vertexNormal,vec3(0.0,0.0,1.0)),5.0);gl_FragColor=vec4(0.9,0.6,0.0,1.0)*intensity;}",R=""+new URL("../textures/8k_sun.jpg",import.meta.url).href,s=new p,m={sun:s.load(R),stars:s.load(M)};new g("hsl(255, 100%, 100%)");let a,t,e,n;a=new h;t=new y(20,window.innerWidth/window.innerHeight,1,1e3);t.position.set(0,0,50);n=new S({antialias:!0});n.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(n.domElement);e=new f(t,n.domElement);e.enableDamping=!0;e.enablePan=!1;e.minDistance=10;e.maxDistance=200;const D=new c(new d(5,50,50),new l({vertexShader:N,fragmentShader:z,uniforms:{globeTexture:{value:m.sun}}})),v=new c(new d(5,50,50),new l({vertexShader:L,fragmentShader:P,blending:b,side:C,transparent:!0}));v.scale.set(1.4,1.4,1.4);const u=k(100,50,50,m.stars,!1,!0,"basic");u.rotation.x=.5;a.add(D,v,u);const x=()=>{e.update(),n.render(a,t),requestAnimationFrame(x)};x();const T=()=>{const{innerWidth:r,innerHeight:i}=window;n.setSize(r,i),t.aspect=r/i,t.updateProjectionMatrix()};window.addEventListener("resize",T);const o=document.querySelector(".rotate-btn"),V=o.textContent,E="Wyłącz obracanie",w=()=>{o.addEventListener("click",()=>{e.autoRotate=!0,o.textContent=E,W()},{once:!0})},W=()=>{o.addEventListener("click",()=>{e.autoRotate=!1,o.textContent=V,w()},{once:!0})};w();document.body.onload=()=>{document.querySelector(".date").textContent=new Date().toDateString()};document.addEventListener("keydown",r=>{(r.isComposing||r.keyCode===27)&&history.back()});
