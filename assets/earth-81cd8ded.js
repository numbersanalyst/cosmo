import{T as R,C as T,S as D,P as E,W as M,a as W,M as _,B as z,b as O,c as q}from"./three.module-4635bcd4.js";import{s as B,O as G}from"./8k_stars_milky_way-7288cd9f.js";import{e as H}from"./4k_earth_land_ocean_ice_cloud-99d8bbec.js";const U=""+new URL("../textures/8k_earth_land_ocean_ice.png",import.meta.url).href,j=""+new URL("../textures/8k_earth_topography.png",import.meta.url).href,c=new R,d={earth:c.load(H),earthLand:c.load(U),earthTopo:c.load(j),stars:c.load(B)},f=new T("hsl(255, 100%, 100%)");let u,n,e,i;u=new D;n=new E(20,window.innerWidth/window.innerHeight,1,1e3);n.position.set(0,0,50);i=new M({antialias:!0});i.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(i.domElement);e=new G(n,i.domElement);e.enableDamping=!0;e.enablePan=!1;e.minDistance=10;e.maxDistance=200;const s=document.querySelector(".rotate-btn"),A=s.textContent,F="Wyłącz obracanie",b=()=>{s.addEventListener("click",()=>{e.autoRotate=!0,s.textContent=F,N()},{once:!0})},N=()=>{s.addEventListener("click",()=>{e.autoRotate=!1,s.textContent=A,b()},{once:!0})};b();const m=(t,o,k,y,w,P)=>{const v=new W(t,o,k),a=new _({map:y});return w&&(a.bumpMap=w,a.bumpScale=.1),P&&(a.side=z,a.transparent=!0,a.opacity=.8),new O(v,a)},g=(t,o)=>new q(t,o),h=m(5,50,50,d.earth),p=m(5,50,50,d.earthLand,d.earthTopo),L=m(100,50,50,d.stars,!1,!0),S=g(f,1),x=g(f,.1);L.rotation.x=.5;S.position.set(-50,50,30);x.position.set(0,0,30);n.add(S,x);u.add(h,p,L,n);let r,l;const C=()=>{l=e.getDistance(),l>30?r!=1&&(e.rotateSpeed=1,h.visible=!0,p.visible=!1,r=1):l>20?r!=2&&(e.rotateSpeed=.4,h.visible=!1,p.visible=!0,r=2):r!=3&&(e.rotateSpeed=.2,r=3),e.update(),i.render(u,n),requestAnimationFrame(C)};C();const I=()=>{const{innerWidth:t,innerHeight:o}=window;i.setSize(t,o),n.aspect=t/o,n.updateProjectionMatrix()};window.addEventListener("resize",I);document.body.onload=()=>{document.querySelector(".date").textContent=new Date().toDateString()};document.addEventListener("keydown",t=>{(t.isComposing||t.keyCode===27)&&history.back()});
